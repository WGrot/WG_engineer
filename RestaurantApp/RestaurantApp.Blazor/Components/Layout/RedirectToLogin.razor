@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Nav

@code {
    
    [Parameter]
    public bool UseReturnUrl { get; set; } = true;
    
    protected override async Task OnInitializedAsync()
    {
        if (UseReturnUrl)
        {
            var returnUrl = 
                Nav.ToBaseRelativePath(Nav.Uri);
            Nav.NavigateTo($"/login?returnUrl={Uri.EscapeDataString(returnUrl)}");  
        }else
        {

            Nav.NavigateTo($"/login");
        }

    }

}